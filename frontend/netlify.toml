
[build]
command = """
    curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
    source $HOME/.cargo/env
    rustup default stable
    cargo install --locked trunk
    trunk build
  """
publish = "target/site"

[functions]
# This is the directory where the Rust serverless function is placed.
directory = "target/lambda/release"

[[redirects]]
# This redirects all traffic to the serverless function, which handles all routing.
from = "/*"
to = "/.netlify/functions/server"
status = 200
